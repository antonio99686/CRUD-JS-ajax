<!DOCTYPE html>
<html lang="pt_BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cadastro de Veículos</title>
    <link rel="shortcut icon" href="../img/sport-car.png" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- Navbar -->
    <nav class="blue-grey darken-3">
      <div class="nav-wrapper container">
        <a href="#" class="brand-logo">Cadastro de Veículos</a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li><a href="#cadastro">Cadastro</a></li>
          <li><a href="#veiculos">Veículos</a></li>
          <li><a href="#contato">Contato</a></li>
        </ul>
      </div>
    </nav>

    <!-- Banner Parallax -->

    <!-- Seção de Cadastro de Veículos -->
    <div id="cadastro" class="container section">
      <h4 class="center-align">Cadastro de Veículos</h4>
      <form onsubmit="return salvarVeiculo(event);">
        <div class="input-field">
          <input type="number" id="id_veiculo" name="id_veiculo" />
          <label for="id_veiculo">ID:</label>
        </div>
        <div class="input-field">
          <input type="text" id="marca" class="validate" name="marca" required />
          <label for="marca">Marca:</label>
        </div>
        <div class="input-field">
          <input type="text" id="modelo" class="validate" name="modelo" required />
          <label for="modelo">Modelo:</label>
        </div>
        <div class="input-field">
          <input type="date" id="ano" class="validate" name="ano" required />
          <label for="ano">Ano:</label>
        </div>      
        <div class="input-field">
          <input type="text" id="preco" class="validate" name="preco" required oninput="formatarPreco(this)"/>
          <label for="preco">Preço (R$):</label>
        </div> 
     
          <a href="../PDF/index.php" class="btn blue-grey darken-3 waves-effect waves-light">
            Gerar Relatório PDF
          </a>
        
        <button type="submit" class="btn green darken-3 waves-effect waves-light">Salvar Veículo</button>
        <a href="javascript:history.back()" class="btn waves-effect waves-light red" style="margin-left: 10px">Voltar</a>
        <!-- Botão para gerar relatório -->
        
      </form>
     
    </div>

    <!-- Lista de Veículos -->
    <div class="container section">
      <h5>Veículos Cadastrados</h5>
      <table class="highlight centered">
        <thead>
          <tr>
            <th>ID</th>
            <th>Marca</th>
            <th>Modelo</th>
            <th>Ano</th>
            <th>Preço (R$)</th>
            <th colspan="2">Opções</th>
          </tr>
        </thead>
        <tbody id="veiculos"></tbody>
      </table>
    </div>

    <!-- Modal de Confirmação -->
    <div id="modalExcluir" class="modal">
      <div class="modal-content">
        <h5>Confirmar Exclusão</h5>
        <p>Você tem certeza de que deseja excluir este veículo?</p>
      </div>
      <div class="modal-footer">
        <button id="confirmarExcluir" class="modal-close btn red">
          Excluir
        </button>
        <button class="modal-close btn green">Cancelar</button>
      </div>
    </div>

    <!-- Footer -->
    <footer class="page-footer blue-grey darken-3">
      <div class="container">
        <div class="row">
          <div class="col l6 s12">
            <h5 class="white-text">Cadastro de Veículos</h5>
            <p class="grey-text text-lighten-4">
              Gerencie seu inventário de veículos com facilidade.
            </p>
          </div>
          <div class="col l4 offset-l2 s12">
            <h5 class="white-text">Links</h5>
            <ul>
              <li>
                <a class="grey-text text-lighten-3" href="#cadastro"
                  >Cadastro</a
                >
              </li>
              <li>
                <a class="grey-text text-lighten-3" href="#veiculos"
                  >Veículos</a
                >
              </li>
              <li>
                <a class="grey-text text-lighten-3" href="#contato">Contato</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-copyright">
        <div class="container">© 2024 Cadastro de Veículos</div>
      </div>
    </footer>

    <!-- Scripts do Materialize CSS e JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var elemsParallax = document.querySelectorAll(".parallax");
        var elemsModal = document.querySelectorAll(".modal");
        M.Parallax.init(elemsParallax);
        M.Modal.init(elemsModal);
      });
      function formatarPreco(campo) {
        // Remove caracteres não numéricos
        let valor = campo.value.replace(/\D/g, "");

        // Formatar para duas casas decimais
        valor = (valor / 100).toFixed(2);

        // Adicionar o símbolo de moeda (R$)
        campo.value = "R$ " + valor.replace(".", ",");
      }
    </script>
    <script src="script.js"></script>
  </body>
</html>
